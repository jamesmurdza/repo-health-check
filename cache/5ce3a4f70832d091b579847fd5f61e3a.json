{"total_count": 1, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/langchain-ai/langchain/issues/28226", "repository_url": "https://api.github.com/repos/langchain-ai/langchain", "labels_url": "https://api.github.com/repos/langchain-ai/langchain/issues/28226/labels{/name}", "comments_url": "https://api.github.com/repos/langchain-ai/langchain/issues/28226/comments", "events_url": "https://api.github.com/repos/langchain-ai/langchain/issues/28226/events", "html_url": "https://github.com/langchain-ai/langchain/issues/28226", "id": 2674141895, "node_id": "I_kwDOIPDwls6fZCrH", "number": 28226, "title": "`init_chat_model` doesn't work with huggingface models", "user": {"login": "SauravMaheshkar", "id": 61241031, "node_id": "MDQ6VXNlcjYxMjQxMDMx", "avatar_url": "https://avatars.githubusercontent.com/u/61241031?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SauravMaheshkar", "html_url": "https://github.com/SauravMaheshkar", "followers_url": "https://api.github.com/users/SauravMaheshkar/followers", "following_url": "https://api.github.com/users/SauravMaheshkar/following{/other_user}", "gists_url": "https://api.github.com/users/SauravMaheshkar/gists{/gist_id}", "starred_url": "https://api.github.com/users/SauravMaheshkar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SauravMaheshkar/subscriptions", "organizations_url": "https://api.github.com/users/SauravMaheshkar/orgs", "repos_url": "https://api.github.com/users/SauravMaheshkar/repos", "events_url": "https://api.github.com/users/SauravMaheshkar/events{/privacy}", "received_events_url": "https://api.github.com/users/SauravMaheshkar/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4678528826, "node_id": "LA_kwDOIPDwls8AAAABFtyvOg", "url": "https://api.github.com/repos/langchain-ai/langchain/labels/good%20first%20issue", "name": "good first issue", "color": "1D76DB", "default": true, "description": "Good for newcomers"}, {"id": 5680700839, "node_id": "LA_kwDOIPDwls8AAAABUpidpw", "url": "https://api.github.com/repos/langchain-ai/langchain/labels/bug", "name": "bug", "color": "b60205", "default": true, "description": "Related to a bug, vulnerability, unexpected error with an existing feature"}, {"id": 9019011443, "node_id": "LA_kwDOIPDwls8AAAACGZMxcw", "url": "https://api.github.com/repos/langchain-ai/langchain/labels/integration", "name": "integration", "color": "bfd4f2", "default": false, "description": "Related to a provider partner package integration"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2024-11-20T03:01:49Z", "updated_at": "2025-09-14T15:35:01Z", "closed_at": null, "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### Checked other resources\n\n- [X] I added a very descriptive title to this issue.\n- [X] I searched the LangChain documentation with the integrated search.\n- [X] I used the GitHub search to find a similar question and didn't find it.\n- [X] I am sure that this is a bug in LangChain rather than my code.\n- [X] The bug is not resolved by updating to the latest stable version of LangChain (or the specific integration package).\n\n### Example Code\n\nSnippet\r\n\r\n```python\r\nfrom langchain.chat_models import init_chat_model\r\n\r\n\r\nllm = init_chat_model(\r\n    model=\"microsoft/Phi-3-mini-4k-instruct\",\r\n    model_provider=\"huggingface\",\r\n    temperature=0,\r\n    max_tokens=1024,\r\n    timeout=None,\r\n    max_retries=2,\r\n)\r\n```\n\n### Error Message and Stack Trace (if applicable)\n\n```bash\r\nTraceback (most recent call last):\r\n  File \"/Users/sauravmaheshkar/dev/papersai/mre.py\", line 4, in <module>\r\n    llm = init_chat_model(\r\n  File \"/Users/sauravmaheshkar/dev/papersai/.venv/lib/python3.10/site-packages/langchain/chat_models/base.py\", line 304, in init_chat_model\r\n    return _init_chat_model_helper(\r\n  File \"/Users/sauravmaheshkar/dev/papersai/.venv/lib/python3.10/site-packages/langchain/chat_models/base.py\", line 393, in _init_chat_model_helper\r\n    return ChatHuggingFace(model_id=model, **kwargs)\r\n  File \"/Users/sauravmaheshkar/dev/papersai/.venv/lib/python3.10/site-packages/langchain_huggingface/chat_models/huggingface.py\", line 317, in __init__\r\n    super().__init__(**kwargs)\r\n  File \"/Users/sauravmaheshkar/dev/papersai/.venv/lib/python3.10/site-packages/langchain_core/load/serializable.py\", line 125, in __init__\r\n    super().__init__(*args, **kwargs)\r\n  File \"/Users/sauravmaheshkar/dev/papersai/.venv/lib/python3.10/site-packages/pydantic/main.py\", line 212, in __init__\r\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\r\npydantic_core._pydantic_core.ValidationError: 1 validation error for ChatHuggingFace\r\nllm\r\n  Field required [type=missing, input_value={'model_id': 'microsoft/P... None, 'max_retries': 2}, input_type=dict]\r\n    For further information visit https://errors.pydantic.dev/2.9/v/missing\r\n```\n\n### Description\n\n* I'm trying to use the [`init_chat_model`](https://python.langchain.com/api_reference/langchain/chat_models/langchain.chat_models.base.init_chat_model.html) function to instantiate a model from the huggingface hub.\n\n### System Info\n\nSystem Information\r\n------------------\r\n> OS:  Darwin\r\n> OS Version:  Darwin Kernel Version 24.0.0: Tue Sep 24 23:36:26 PDT 2024; root:xnu-11215.1.12~1/RELEASE_ARM64_T8103\r\n> Python Version:  3.10.15 (main, Sep  9 2024, 22:43:48) [Clang 18.1.8 ]\r\n\r\nPackage Information\r\n-------------------\r\n> langchain_core: 0.3.19\r\n> langchain: 0.3.7\r\n> langsmith: 0.1.143\r\n> langchain_anthropic: 0.2.3\r\n> langchain_huggingface: 0.1.2\r\n> langchain_text_splitters: 0.3.2\r\n\r\nOptional packages not installed\r\n-------------------------------\r\n> langgraph\r\n> langserve\r\n\r\nOther Dependencies\r\n------------------\r\n> aiohttp: 3.11.6\r\n> anthropic: 0.36.2\r\n> async-timeout: 4.0.3\r\n> defusedxml: 0.7.1\r\n> httpx: 0.27.2\r\n> huggingface-hub: 0.26.2\r\n> jsonpatch: 1.33\r\n> numpy: 1.26.4\r\n> orjson: 3.10.11\r\n> packaging: 24.2\r\n> pydantic: 2.9.2\r\n> PyYAML: 6.0.2\r\n> requests: 2.32.3\r\n> requests-toolbelt: 1.0.0\r\n> sentence-transformers: 3.3.1\r\n> SQLAlchemy: 2.0.36\r\n> tenacity: 9.0.0\r\n> tokenizers: 0.20.3\r\n> transformers: 4.46.3\r\n> typing-extensions: 4.12.2", "reactions": {"url": "https://api.github.com/repos/langchain-ai/langchain/issues/28226/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/langchain-ai/langchain/issues/28226/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]}